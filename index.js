const http = require('http')

// 处理了,and、多名、,(?=\w)、中间有括号缩写
var Full2Rank = { "transactions on computer systems": "A", "transactions on storage": "A", "transactions on computer-aided design of integrated circuits and system": "A", "transactions on computer-aided design \\(tcad\\) of integrated circuits and system": "A", "transactions on computers": "A", "transactions on parallel and distributed systems": "A", "transactions on architecture and code optimization": "A", "transactions on autonomous and adaptive systems": "B", "transactions on design automation of electronic systems": "B", "transactions on embedded computing systems": "B", "transactions on reconfigurable technology and systems": "B", "transactions on very large scale integration \\(vlsi\\) systems": "B", "journal of parallel and distributed computing": "B", "journal of systems architecture: embedded software design": "B", "parallel computing": "B", "performance evaluation: an international journal": "B", "journal on emerging technologies in computing systems": "C", "concurrency and computation: practice and experience": "C", "distributed computing": "C", "future generation computer systems": "C", "transactions on cloud computing": "C", "integration, the vlsi journal": "C", "journal of electronic testing-theory and applications": "C", "the journal of grid computing": "C", "real-time systems": "C", "the journal of supercomputing": "C", "transactions on circuits and systems i: regular papers": "C", "ccf transactions on high performance computing": "C", "transactions on sustainable computing": "C", "sigplan symposium on principles & practice of parallel programming": "A", "conference on file and storage technologies": "A", "design automation conference": "A", "high-performance computer architecture": "A", "international symposium on microarchitecture": "A", "international conference for high performance computing, networking, storage, and analysis": "A", "international conference for high performance computing, networking, storage and analysis": "A", "international conference on architectural support for programming languages and operating systems": "A", "international symposium on computer architecture": "A", "usenix annual technical conference": "A", "european conference on computer systems": "A", "symposium on cloud computing": "B", "symposium on parallelism in algorithms and architectures": "B", "symposium on principles of distributed computing": "B", "acm/sigda international symposium on field-programmable gate arrays": "B", "code generation and optimization": "B", "design, automation & test in europe": "B", "symposium on high performance chips": "B", "international conference on cluster computing": "B", "international conference on computer design": "B", "international conference on computer-aided design": "B", "international conference on distributed computing systems": "B", "international conference on hardware/software co-design and system synthesis": "B", "international conference on high performance and embedded architectures and compilers": "B", "international conference on measurement and modeling of computer systems": "B", "international conference on parallel architectures and compilation techniques": "B", "international conference on parallel processing": "B", "international conference on supercomputing": "B", "international conference on virtual execution environments": "B", "international parallel & distributed processing symposium": "B", "international symposium on computer performance, modeling, measurements and evaluation": "B", "international symposium on high performance distributed computing": "B", "international test conference": "B", "large installation system administration conference": "B", "mass storage systems and technologies": "B", "real-time and embedded technology and applications symposium": "B", "european conference on parallel and distributed computing": "B", "international conference on computing frontiers": "C", "international systems and storage conference": "C", "acm/ieee international symposium on networks-on-chip": "C", "application-specific systems, architectures, and processors": "C", "application-specific systems, architectures and processors": "C", "asia and south pacific design automation conference": "C", "european test symposium": "C", "field programmable logic and applications": "C", "field-programmable custom computing machines": "C", "great lakes symposium on vlsi": "C", "asian test symposium": "C", "international conference on high performance computing and communications": "C", "international conference on high performance computing, data and analytics": "C", "international symposium on modeling, analysis, and simulation of computer and telecommunication systems": "C", "international symposium on modeling, analysis and simulation of computer and telecommunication systems": "C", "international symposium on parallel and distributed processing with applications": "C", "international symposium on cluster, cloud and grid computing": "C", "ifip international conference on network and parallel computing": "C", "international conference on algorithms and architectures for parallel processing": "C", "international conference on compilers, architectures, and synthesis for embedded systems": "C", "international conference on compilers, architectures and synthesis for embedded systems": "C", "international conference on field-programmable technology": "C", "international conference on parallel and distributed systems": "C", "international symposium on circuits and systems": "C", "international symposium on low power electronics and design": "C", "international symposium on physical design": "C", "symposium on high-performance interconnects": "C", "vlsi test symposium": "C", "international test conference in asia": "C", "journal of selected areas in communications": "A", "transactions on mobile computing": "A", "transactions on networking": "A", "transactions on internet technology": "B", "transactions on multimedia computing, communications and applications": "B", "transactions on sensor networks": "B", "computer networks": "B", "transactions on communications": "B", "transactions on wireless communications": "B", "ad hoc networks": "C", "computer communications": "C", "transactions on network and service management": "C", "iet communications": "C", "journal of network and computer applications": "C", "mobile networks & applications": "C", "networks": "C", "peer-to-peer networking and applications": "C", "wireless communications & mobile computing": "C", "wireless networks": "C", "internet of things journal": "C", "international conference on applications, technologies, architectures, and protocols for computer communication": "A", "international conference on applications, technologies, architectures and protocols for computer communication": "A", "international conference on mobile computing and networking": "A", "international conference on computer communications": "A", "symposium on network system design and implementation": "A", "conference on embedded networked sensor systems": "B", "international conference on emerging networking experiments and technologies": "B", "communications society conference on sensor and ad hoc communications and networks": "B", "international conference on information processing in sensor networks": "B", "international conference on mobile systems, applications, and services": "B", "international conference on mobile systems, applications and services": "B", "international conference on network protocols": "B", "international symposium on mobile ad hoc networking and computing": "B", "international workshop on network and operating system support for digital audio and video": "B", "international workshop on quality of service": "B", "internet measurement conference": "B", "architectures for networking and communications systems": "C", "asia-pacific network operations and management symposium": "C", "formal techniques for networked and distributed systems": "C", "conference on local computer networks": "C", "global communications conference": "C", "international conference on communications": "C", "international conference on computer communications and networks": "C", "international conference on mobile ad-hoc and sensor systems": "C", "international conference on p2p computing": "C", "international performance computing and communications conference": "C", "international symposium on a world of wireless mobile and multimedia networks": "C", "symposium on computers and communications": "C", "wireless communications & networking conference": "C", "ifip international conferences on networking": "C", "ifip/ieee international symposium on integrated network management": "C", "international conference on mobile ad-hoc and sensor networks": "C", "international conference on modeling, analysis and simulation of wireless and mobile systems": "C", "international conference on wireless algorithms, systems, and applications": "C", "international conference on wireless algorithms, systems and applications": "C", "the workshop on hot topics in networks": "C", "asia-pacific workshop on networking": "C", "transactions on dependable and secure computing": "A", "transactions on information forensics and security": "A", "journal of cryptology": "A", "transactions on privacy and security": "B", "computers & security": "B", "designs, codes and cryptography": "B", "journal of computer security": "B", "computer law and security review": "C", "eurasip journal on information security": "C", "iet information security": "C", "information management & computer security": "C", "international journal of information and computer security": "C", "international journal of information security and privacy": "C", "journal of information security and application": "C", "security and communication networks": "C", "cybersecurity": "C", "conference on computer and communications security": "A", "european cryptology conference": "A", "symposium on security and privacy": "A", "international cryptology conference": "A", "usenix security symposium": "A", "isoc network and distributed system security symposium": "A", "annual computer security applications conference": "B", "annual international conference on the theory and application of cryptology and information security": "B", "european symposium on research in computer security": "B", "fast software encryption": "B", "computer security foundations workshop": "B", "international symposium on reliable distributed systems": "B", "international conference on cryptographic hardware and embedded systems": "B", "international conference on dependable systems and networks": "B", "international symposium on recent advances in intrusion detection": "B", "international workshop on practice and theory in public key cryptography": "B", "theory of cryptography conference": "B", "conference on security and privacy in wireless and mobile networks": "C", "symposium on access control models and technologies": "C", "workshop on digital rights management": "C", "workshop on information hiding and multimedia security": "C", "applied cryptography and network security": "C", "asia conference on computer and communications security": "C", "australasiaconferenceoninformation securityandprivacy": "C", "rsa conference, cryptographers' track": "C", "detection of intrusions and malware &vulnerability assessment": "C", "digital forensic research workshop": "C", "financial cryptography and data security": "C", "international conference on trust,security and privacy in computing and communications": "C", "international conference on trust, security and privacy in computing and communications": "C", "ifip international information security conference": "C", "ifip wg 11.9 international conference on digital forensics": "C", "information security conference": "C", "international conference on digital forensics & cyber crime": "C", "international conference on information and communications security": "C", "international conference on security and privacy in communication networks": "C", "new security paradigms workshop": "C", "passive and active measurement conference": "C", "privacy enhancing technologies symposium": "C", "selected areas in cryptography": "C", "symposium on usable privacy and security": "C", "usenix workshop on hot topics in security": "C", "european symposium on security and privacy": "C", "international conference on information security and cryptology": "C", "transactions on programming languages & systems": "A", "transactions on software engineering and methodology": "A", "transactions on software engineering": "A", "transactions on service computing": "A", "transactions on services computing": "A", "automated software engineering": "B", "empirical software engineering": "B", "iet software": "B", "information and software technology": "B", "journal of functional programming": "B", "journal of software: evolution and process": "B", "journal of systems and software": "B", "requirements engineering": "B", "science of computer programming": "B", "software and system modeling": "B", "software testing, verification and reliability": "B", "software: practice and experience": "B", "computer languages, systems and structures": "C", "international journal on software engineering and knowledge engineering": "C", "international journal on software tools for technology transfer": "C", "journal of logic and algebraic programming": "C", "journal of web engineering": "C", "service oriented computing and applications": "C", "software quality journal": "C", "theory and practice of logic programming": "C", "proceedings of the acm on programming languages": "C", "sigplan symposium on programming language design & implementation": "A", "sigplan-sigact symposium on principles of programming languages": "A", "sigsoft symposium on the foundation of software engineering": "A", "joint european software engineering conference": "A", "symposium on operating systems principles": "A", "conference on object-oriented programming systems, languages,and applications": "A", "conference on object-oriented programming systems, languages, and applications": "A", "international conference on automated software engineering": "A", "international conference on software engineering": "A", "international symposium on software testing and analysis": "A", "usenix symposium on operating systems design and implementations": "A", "international symposium on formal methods": "A", "european conference on object-oriented programming": "B", "european joint conferences on theory and practice of software": "B", "international conference on program comprehension": "B", "international requirement engineering conference": "B", "international conference on advanced information systems engineering": "B", "international conference on function programming": "B", "international conference on languages,compilers, tools and theory for embedded systems": "B", "international conference on languages, compilers, tools and theory for embedded systems": "B", "international conference on model driven engineering languages and systems": "B", "international conference on principles and practice of constraint programming": "B", "international conference on service oriented computing": "B", "international conference on software analysis, evolution, and reengineering": "B", "international conference on software analysis, evolution and reengineering": "B", "international conference on software maintenance and evolution": "B", "international conference on verification,model checking, and abstract interpretation": "B", "international conference on verification,model checking and abstract interpretation": "B", "international conference on verification, model checking and abstract interpretation": "B", "international conference on web services": "B", "international middleware conference": "B", "international static analysis symposium": "B", "international symposium on empirical software engineering and measurement": "B", "international symposium on software reliability engineering": "B", "usenix workshop on hot topics in operating systems": "B", "sigplan workshop on partial evaluation and program manipulation": "C", "acmsigplan-sigsoft workshop on program analysis for software tools and engineering": "C", "asian symposium on programming languages and systems": "C", "asia-pacific software engineering conference": "C", "evaluation and assessment in software engineering": "C", "international conference on engineering of complex computer systems": "C", "international conference on software testing, verification and validation": "C", "international symposium on performance analysis of systems and software": "C", "international working conference on source code analysis and manipulation": "C", "international computer software and applications conference": "C", "international conference on formal engineering methods": "C", "international conference on objects, models, components, patterns": "C", "international conference on quality software": "C", "international conference on service computing": "C", "international conference on software and system process": "C", "international conference on software engineering and knowledge engineering": "C", "international conference on software quality, reliability and security": "C", "international conference on software reuse": "C", "international conference on web engineering": "C", "international spin workshop on model checking of software": "C", "international symposium on automated technology for verification and analysis": "C", "international symposium on logic-based program synthesis and transformation": "C", "international symposium on theoretical aspects of software engineering": "C", "mining software repositories": "C", "requirements engineering: foundation for software quality": "C", "working ieee/ifip conference on software architecture": "C", "the asia-pacific symposium on internetware": "C", "international conference on runtime verification": "C", "transactions on database systems": "A", "transactions on information systems": "A", "transactions on knowledge and data engineering": "A", "the vldb journal": "A", "transactions on knowledge discovery from data": "B", "transactions on the web": "B", "advanced engineering informatics": "B", "data and knowledge engineering": "B", "data mining and knowledge discovery": "B", "european journal of information systems": "B", "geoinformatica": "B", "information processing and management": "B", "information sciences": "B", "information systems": "B", "journal of the american society for information science and technology": "B", "journal of web semantics": "B", "knowledge and information systems": "B", "distributed and parallel databases": "C", "information and management": "C", "information processing letters": "C", "information retrieval journal": "C", "international journal of cooperative information systems": "C", "international journal of geographical information science": "C", "international journal of intelligent systems": "C", "international journal of knowledge management": "C", "international journal on semantic web and information systems": "C", "journal of computer information systems": "C", "journal of database management": "C", "journal of global information technology management": "C", "journal of intelligent information systems": "C", "journal of strategic information systems": "C", "data science and engineering": "C", "conference on management of data": "A", "knowledge discovery and data mining": "A", "international conference on data engineering": "A", "international conference on research on development in information retrieval": "A", "international conference on very large data bases": "A", "international conference on information and knowledge management": "B", "international conference on web search and data mining": "B", "symposium on principles of database systems": "B", "database systems for advanced applications": "B", "european conference on machine learning and principles and practice of knowledge discovery in databases": "B", "international semantic web conference": "B", "international conference on data mining": "B", "international conference on database theory": "B", "international conference on extending db technology": "B", "international conference on innovative data systems research": "B", "siam international conference on data mining": "B", "conference on recommender systems": "B", "asia pacific web conference": "C", "database and expert system applications": "C", "european conference on ir research": "C", "extended semantic web conference": "C", "international acm workshop on web and databases": "C", "international conference on conceptual modeling": "C", "international conference on mobile data management": "C", "international conference on scientific and statistical db management": "C", "international conference on web age information management": "C", "international symposium on spatial and temporal databases": "C", "pacific-asia conference on knowledge discovery and data mining": "C", "web information systems engineering": "C", "the international conference on advanced data mining and applications": "C", "transactions on information theory": "A", "information and computation": "A", "siam journal on computing": "A", "transactions on algorithms": "B", "transactions on computational logic": "B", "transactions on mathematical software": "B", "algorithmica": "B", "computational complexity": "B", "formal aspects of computing": "B", "formal methods in system design": "B", "informs journal on computing": "B", "journal of computer and system sciences": "B", "journal of global optimization": "B", "journal of symbolic computation": "B", "mathematical structures in computer science": "B", "theoretical computer science": "B", "acta informatica": "C", "annals of pure and applied logic": "C", "discrete applied mathematics": "C", "fundamenta informaticae": "C", "higher-order and symbolic computation": "C", "journal of complexity": "C", "journal of logic and computation": "C", "journal of symbolic logic": "C", "logical methods in computer science": "C", "siam journal on discrete mathematics": "C", "theory of computing systems": "C", "symposium on theory of computing": "A", "acm-siam symposium on discrete algorithms": "A", "computer aided verification": "A", "annual symposium on foundations of computer science": "A", "symposium on logic in computer science": "A", "symposium on computational geometry": "B", "european symposium on algorithms": "B", "conference on computational complexity": "B", "international colloquium on automata, languages and programming": "B", "international conference on automated deduction/international joint conference on automated reasoning": "B", "international conference on concurrency theory": "B", "international conference on hybrid systems: computation and control": "B", "theory and applications of satisfiability testing": "B", "international computing and combinatorics conference": "B", "computer science logic": "C", "formal method in computer-aided design": "C", "foundations of software technology and theoretical computer science": "C", "international conference on data science and advanced analytics": "C", "international colloquium on theoretical aspects of computing": "C", "international conference on integer programming and combinatorial optimization": "C", "international conference on rewriting techniques and applications": "C", "international symposium on algorithms and computation": "C", "mathematical foundations of computer science": "C", "symposium on theoretical aspects of computer science": "C", "international symposium on dependable software engineering: theories, tools, and applications": "C", "transactions on graphics": "A", "transactions on image processing": "A", "transactions on visualization and computer graphics": "A", "transactions on multimedia computing,communications and application": "B", "transactions on multimedia computing, communications and application": "B", "computer aided geometric design": "B", "computer graphics forum": "B", "computer-aided design": "B", "graphical models": "B", "transactions on circuits and systems for video technology": "B", "transactions on multimedia": "B", "journal of the acoustical society of america": "B", "siam journal on imaging sciences": "B", "speech communication": "B", "computational geometry: theory and applications": "C", "computer animation and virtual worlds": "C", "computers & graphics": "C", "discrete & computational geometry": "C", "signal processing letters": "C", "iet image processing": "C", "journal of visual communication and image representation": "C", "multimedia systems": "C", "multimedia tools and applications": "C", "signal processing": "C", "signal processing: image communication": "C", "the visual computer": "C", "computational visual media": "C", "international conference on multimedia": "A", "siggraph annual conference": "A", "virtual reality": "A", "visualization conference": "A", "sigmm international conference on multimedia retrieval": "B", "symposium on interactive 3d graphics": "B", "acm/eurographics symposium on computer animation": "B", "data compression conference": "B", "eurographics": "B", "eurographics conference on visualization": "B", "eurographics symposium on geometry processing": "B", "eurographics symposium on rendering": "B", "international conference on acoustics,speech and sp": "B", "international conference on acoustics, speech and sp": "B", "international conference on multimedia& expo": "B", "international symposium on mixed and augmented reality": "B", "pacific graphics: the pacific conference on computer graphics and applications": "B", "symposium on solid and physical modeling": "B", "international conference on medical image computing and computer-assisted intervention": "B", "symposium on virtual reality software and technology": "C", "computer animation and social agents": "C", "computer graphics international": "C", "conference of the international speechcommunication association": "C", "geometric modeling and processing": "C", "pacific visualization symposium": "C", "international conference on 3d vision": "C", "international conference on computer-aided design and computer graphics": "C", "international conference on image processing": "C", "international conference on multimedia modeling": "C", "pacific-rim conference on multimedia": "C", "shape modeling international": "C", "international conference on virtual reality and visualization": "C", "chinese conference on pattern recognition and computer vision": "C", "artificial intelligence": "A", "trans on pattern analysis and machine intelligence": "A", "international journal of computer vision": "A", "journal of machine learning research": "A", "transactions on applied perception": "B", "transactions on speech and language processing": "B", "autonomous agents and multi-agent systems": "B", "computational linguistics": "B", "computer vision and image understanding": "B", "evolutionary computation": "B", "transactions on affective computing": "B", "transactions on audio, speech, and language processing": "B", "transactions on audio, speech and language processing": "B", "transactions on cybernetics": "B", "transactions on evolutionary computation": "B", "transactions on fuzzy systems": "B", "transactions on neural networks and learning systems": "B", "international journal of approximate reasoning": "B", "journal of artificial intelligence research": "B", "journal of automated reasoning": "B", "journal of speech, language, and hearing research": "B", "journal of speech, language and hearing research": "B", "machine learning": "B", "neural computation": "B", "neural networks": "B", "pattern recognition": "B", "transactions of the association for computational linguistics": "B", "transactions on asian and low-resource language information processing": "C", "applied intelligence": "C", "artificial intelligence in medicine": "C", "artificial life": "C", "computational intelligence": "C", "computer speech and language": "C", "connection science": "C", "decision support systems": "C", "engineering applications of artificial intelligence": "C", "expert systems": "C", "expert systems with applications": "C", "fuzzy sets and systems": "C", "transactions on games": "C", "iet computer vision": "C", "iet signal processing": "C", "image and vision computing": "C", "intelligent data analysis": "C", "international journal of computational intelligence and applications": "C", "international journal of neural systems": "C", "international journal of pattern recognition and artificial intelligence": "C", "international journal of uncertainty, fuzziness and knowledge-based system": "C", "international journal on document analysis and recognition": "C", "journal of experimental and theoretical artificial intelligence": "C", "knowledge-based systems": "C", "machine translation": "C", "machine vision and applications": "C", "natural computing": "C", "natural language engineering": "C", "neural computing & applications": "C", "neural processing letters": "C", "neurocomputing": "C", "pattern analysis and applications": "C", "pattern recognition letters": "C", "soft computing": "C", "web intelligence": "C", "transactions on interactive intelligent systems": "C", "aaai conference on artificial intelligence": "A", "annual conference on neural information processing systems": "A", "annual meeting of the association for computational linguistics": "A", "conference on computer vision and pattern recognition": "A", "international conference on computer vision": "A", "international conference on machine learning": "A", "international joint conference on artificial intelligence": "A", "international joint conferences on artificial intelligence": "A", "annual conference on computational learning theory": "B", "conference on empirical methods in natural language processing": "B", "european conference on artificial intelligence": "B", "european conference on computer vision": "B", "international conference on robotics and automation": "B", "international conference on automated planning and scheduling": "B", "international conference on case-based reasoning and development": "B", "international conference on computational linguistics": "B", "international conference on principles of knowledge representation and reasoning": "B", "international conference on uncertainty in artificial intelligence": "B", "international joint conference on autonomous agents and multi-agent systems": "B", "parallel problem solving from nature": "B", "the annual conference of the north american chapter of the association for computational linguistics": "B", "artificial intelligence and statistics": "C", "asian conference on computer vision": "C", "asian conference on machine learning": "C", "british machine vision conference": "C", "ccf international conference on natural language processing and chinese computing": "C", "conference on computational natural language learning": "C", "genetic and evolutionary computation conference": "C", "international conference on tools with artificial intelligence": "C", "ieeersj international conference on intelligent robots and systems": "C", "international conference on algorithmic learning theory": "C", "international conference on artificial neural networks": "C", "international conference on automatic face and gesture recognition": "C", "international conference on document analysis and recognition": "C", "international conference on inductive logic programming": "C", "international conference on knowledge science,engineering and management": "C", "international conference on knowledge science, engineering and management": "C", "international conference on neural information processing": "C", "international conference on pattern recognition": "C", "international joint conference on biometrics": "C", "international joint conference on neural networks": "C", "pacific rim international conference on artificial intelligence": "C", "transactions on computer-human interaction": "A", "international journal of human computer studies": "A", "computer supported cooperative work": "B", "human computer interaction": "B", "transactions on human-machine systems": "B", "interacting with computers": "B", "international journal of human-computer interaction": "B", "user modeling and user-adapted interaction": "B", "transactions on systems, man, and cybernetics: systems": "B", "transactions on systems, man and cybernetics: systems": "B", "behaviour & information technology": "C", "personal and ubiquitous computing": "C", "pervasive and mobile computing": "C", "proceedings of the acm on human-computer interaction": "C", "conference on computer supported cooperative work and social computing": "A", "conference on human factors in computing systems": "A", "international conference on ubiquitous computing": "A", "symposium on user interface software and technology": "A", "conference on supporting group work": "B", "international conference on intelligent user interfaces": "B", "international conference on interactive tabletops and surfaces": "B", "european conference on computer supported cooperative work": "B", "international conference on pervasive computing and communications": "B", "international conference on human computer interaction with mobile devices and services": "B", "the international aaai conference on web and social media": "B", "conference on designing interactive systems": "C", "international conference on multimodal interaction": "C", "sigaccess conference on computers and accessibility": "C", "graphics interface conference": "C", "international conference on ubiquitous intelligence and computing": "C", "world haptics conference": "C", "ifip tc13 conference on human-computer interaction": "C", "interaction design and children": "C", "international conference on collaborative computing: networking, applications and worksharing": "C", "international conference on computer supported cooperative work in design": "C", "international conference on cooperative information systems": "C", "international conference on mobile and ubiquitous systems: computing,networking and services": "C", "international conference on mobile and ubiquitous systems: computing, networking and services": "C", "international working conference on advanced visual interfaces": "C", "journal of the acm": "A", "proceedings of the ieee": "A", "science china information sciences": "A", "bioinformatics": "B", "briefings in bioinformatics": "B", "cognition: international journal of cognitive science": "B", "transactions on automation science and engineering": "B", "transactions on geoscience and remote sensing": "B", "transactions on intelligent transportation systems": "B", "transactions on medical imaging": "B", "transactions on robotics": "B", "ieee-acm transactions on computational biology and bioinformatics": "B", "journal of computer science and technology": "B", "journal of the american medical informatics association": "B", "plos computational biology": "B", "the computer journal": "B", "world wide web journal": "B", "frontiers of computer science": "B", "bmc bioinformatics": "C", "cybernetics and systems": "C", "geoscience and remote sensing letters": "C", "journal of biomedical and health informatics": "C", "transactions on big data": "C", "iet intelligent transport systems": "C", "journal of biomedical informatics": "C", "medical image analysis": "C", "transactions on industrial informatics": "C", "transactions on cyber-physical systems": "C", "transactions on computing education": "C", "frontiers of information technology & electronic engineering": "C", "transaction on computational social systems": "C", "transactions on reliability": "C", "international world wide web conferences": "A", "real-time systems symposium": "A", "conference on web and internet economics": "A", "cognitive science society annual conference": "B", "international conference on bioinformatics and biomedicine": "B", "international conference on embedded software": "B", "international conference on intelligent systems for molecular biology": "B", "international conference on research in computational molecular biology": "B", "american medical informatics association annual symposium": "C", "asia pacific bioinformatics conference": "C", "international conference on big data": "C", "international conference on cloud computing": "C", "international conference on systems, man, and cybernetics": "C", "international conference on systems, man and cybernetics": "C", "international conference on spatial information theory": "C", "international symposium on bioinformatics research and applications": "C", "international symposium on algorithmic game theory": "C", "sigspatial international conference on advances in geographic information systems": "C", "international conference on intelligent computing": "C", "international conference on computer aided design": "B" }
// 删除CC
var Abbr2Rank = { "TOCS": "A", "TOS": "A", "TCAD": "A", "TC": "A", "TPDS": "A", "TACO": "A", "TAAS": "B", "TODAES": "B", "TECS": "B", "TRETS": "B", "TVLSI": "B", "JPDC": "B", "JSA": "B", "PARCO": "B", "JETC": "C", "DC": "C", "FGCS": "C", "TCC": "B", "Integration": "C", "JETTA": "C", "JGC": "C", "RTS": "C", "TJSC": "C", "TCASI": "C", "CCF-THPC": "C", "TSUSC": "C", "PPoPP": "A", "FAST": "A", "DAC": "A", "HPCA": "A", "MICRO": "A", "SC": "A", "ASPLOS": "A", "ISCA": "A", "USENIX ATC": "A", "EuroSys": "A", "SOCC": "B", "SPAA": "B", "PODC": "B", "FPGA": "B", "CGO": "B", "DATE": "B", "HOT CHIPS": "B", "CLUSTER": "B", "ICCD": "B", "ICCAD": "B", "ICDCS": "B", "CODES+ISSS": "B", "HiPEAC": "B", "SIGMETRICS": "B", "PACT": "B", "ICPP": "B", "ICS": "B", "VEE": "B", "IPDPS": "B", "Performance": "B", "HPDC": "B", "ITC": "B", "LISA": "B", "MSST": "B", "RTAS": "B", "Euro-Par": "B", "CF": "C", "SYSTOR": "C", "NOCS": "C", "ASAP": "C", "ASP-DAC": "C", "ETS": "C", "FPL": "C", "FCCM": "C", "GLSVLSI": "C", "ATS": "C", "HPCC": "C", "HiPC": "C", "MASCOTS": "C", "ISPA": "C", "CCGRID": "C", "NPC": "C", "ICA3PP": "C", "CASES": "C", "FPT": "C", "ICPADS": "C", "ISCAS": "C", "ISLPED": "C", "ISPD": "C", "HotI": "C", "VTS": "C", "ITC-Asia": "C", "JSAC": "A", "TMC": "A", "TON": "A", "TOIT": "B", "TOMCCAP": "B", "TOSN": "B", "CN": "B", "TCOM": "B", "TWC": "B", "TNSM": "C", "JNCA": "C", "MONET": "C", "PPNA": "C", "WCMC": "C", "IOT": "C", "SIGCOMM": "A", "MobiCom": "A", "INFOCOM": "A", "NSDI": "A", "SenSys": "B", "CoNEXT": "B", "SECON": "B", "IPSN": "B", "MobiSys": "B", "ICNP": "B", "MobiHoc": "B", "NOSSDAV": "B", "IWQoS": "B", "IMC": "B", "ANCS": "C", "APNOMS": "C", "FORTE": "C", "LCN": "C", "GLOBECOM": "C", "ICC": "C", "ICCCN": "C", "MASS": "C", "P2P": "C", "IPCCC": "C", "WoWMoM": "C", "ISCC": "C", "WCNC": "C", "Networking": "C", "IM": "C", "MSN": "C", "MSWiM": "C", "WASA": "C", "HotNets": "C", "APNet": "C", "TDSC": "A", "TIFS": "A", "TOPS": "B", "JCS": "B", "CLSR": "C", "IMCS": "C", "IJICS": "C", "IJISP": "C", "JISA": "C", "SCN": "C", "CCS": "A", "EUROCRYPT": "A", "S&P": "A", "CRYPTO": "A", "USENIX Security": "A", "NDSS": "A", "ACSAC": "B", "ASIACRYPT": "B", "ESORICS": "B", "FSE": "B", "CSFW": "B", "SRDS": "B", "CHES": "B", "DSN": "B", "RAID": "B", "PKC": "B", "WiSec": "C", "SACMAT": "C", "DRM": "C", "IH&MMSec": "C", "ACNS": "C", "AsiaCCS": "C", "ACISP": "C", "CT-RSA": "C", "DIMVA": "C", "DFRWS": "C", "FC": "C", "TrustCom": "C", "SEC": "C", "IFIP WG 11.9": "C", "ISC": "C", "ICDF2C": "C", "ICICS": "C", "SecureComm": "C", "NSPW": "C", "PAM": "C", "PETS": "C", "SAC": "C", "SOUPS": "C", "HotSec": "C", "EuroS&P": "C", "Inscrypt": "C", "TOPLAS": "A", "TOSEM": "A", "TSE": "A", "TSC": "A", "ASE": "B", "ESE": "B", "IETS": "B", "IST": "B", "JFP": "B", "JSS": "B", "RE": "B", "SCP": "B", "SoSyM": "B", "STVR": "B", "SPE": "B", "CL": "C", "IJSEKE": "C", "STTT": "C", "JLAP": "C", "JWE": "C", "SOCA": "C", "SQJ": "C", "TPLP": "C", "PACM PL": "C", "PLDI": "A", "POPL": "A", "FSE": "A", "ESEC": "A", "SOSP": "A", "OOPSLA": "A", "ICSE": "A", "ISSTA": "A", "OSDI": "A", "FM": "A", "ECOOP": "B", "ETAPS": "B", "ICPC": "B", "CAiSE": "B", "ICFP": "B", "LCTES": "B", "MoDELS": "B", "CP": "B", "ICSOC": "B", "SANER": "B", "ICSME": "B", "VMCAI": "B", "ICWS": "B", "Middleware": "B", "SAS": "B", "ESEM": "B", "ISSRE": "B", "HotOS": "B", "PEPM": "C", "PASTE": "C", "APLAS": "C", "APSEC": "C", "EASE": "C", "ICECCS": "C", "ICST": "C", "ISPASS": "C", "SCAM": "C", "COMPSAC": "C", "ICFEM": "C", "TOOLS": "C", "QSIC": "C", "SCC": "C", "ICSSP": "C", "SEKE": "C", "QRS": "C", "ICSR": "C", "ICWE": "C", "SPIN": "C", "ATVA": "C", "LOPSTR": "C", "TASE": "C", "MSR": "C", "REFSQ": "C", "WICSA": "C", "Internetware": "C", "RV": "C", "TODS": "A", "TOIS": "A", "TKDE": "A", "VLDBJ": "A", "TKDD": "B", "TWEB": "B", "AEI": "B", "DKE": "B", "DMKD": "B", "EJIS": "B", "IPM": "B", "IS": "B", "JASIST": "B", "JWS": "B", "KAIS": "B", "DPD": "C", "I&M": "C", "IPL": "C", "IR": "C", "IJCIS": "C", "IJGIS": "C", "IJIS": "C", "IJKM": "C", "IJSWIS": "C", "JCIS": "C", "JDM": "C", "JGITM": "C", "JIIS": "C", "JSIS": "C", "DSE": "C", "SIGMOD": "A", "SIGKDD": "A", "ICDE": "A", "SIGIR": "A", "VLDB": "A", "CIKM": "B", "WSDM": "B", "PODS": "B", "DASFAA": "B", "ECML-PKDD": "B", "ISWC": "B", "ICDM": "B", "ICDT": "B", "EDBT": "B", "CIDR": "B", "SDM": "B", "RecSys": "B", "APWeb": "C", "DEXA": "C", "ECIR": "C", "ESWC": "C", "WebDB": "C", "ER": "C", "MDM": "C", "SSDBM": "C", "WAIM": "C", "SSTD": "C", "PAKDD": "C", "WISE": "C", "ADMA": "C", "TIT": "A", "IANDC": "A", "SICOMP": "A", "TALG": "B", "TOCL": "B", "TOMS": "B", "Algorithmica": "B", "FAC": "B", "FMSD": "B", "INFORMS": "B", "JCSS": "B", "JGO": "B", "JSC": "B", "MSCS": "B", "TCS": "B", "ACTA": "C", "APAL": "C", "DAM": "C", "FUIN": "C", "LISP": "C", "JCOMPLEXITY": "C", "LOGCOM": "C", "JSL": "C", "LMCS": "C", "SIDMA": "C", "STOC": "A", "SODA": "A", "CAV": "A", "FOCS": "A", "LICS": "A", "SoCG": "B", "ESA": "B", "CCC": "B", "ICALP": "B", "CADE": "B", "IJCAR": "B", "CONCUR": "B", "HSCC": "B", "SAT": "B", "COCOON": "B", "CSL": "C", "FMCAD": "C", "FSTTCS": "C", "DSAA": "C", "ICTAC": "C", "IPCO": "C", "RTA": "C", "ISAAC": "C", "MFCS": "C", "STACS": "C", "SETTA": "C", "TOG": "A", "TIP": "A", "TVCG": "A", "CAGD": "B", "CGF": "B", "CAD": "B", "GM": "B", "TCSVT": "B", "TMM": "B", "JASA": "B", "SIIMS": "B", "Speech Com": "B", "CGTA": "C", "CAVW": "C", "C&G": "C", "DCG": "C", "SPL": "C", "IET-IPR": "C", "JVCIR": "C", "MS": "C", "MTA": "C", "SPIC": "C", "TVC": "C", "CVMJ": "C", "ACM MM": "A", "SIGGRAPH": "A", "VR": "A", "IEEE VIS": "A", "ICMR": "B", "SI3D": "B", "SCA": "B", "DCC": "B", "EG": "B", "EuroVis": "B", "SGP": "B", "EGSR": "B", "ICASSP": "B", "ICME": "B", "ISMAR": "B", "PG": "B", "SPM": "B", "MICCAI": "B", "CASA": "C", "CGI": "C", "INTERSPEECH": "C", "GMP": "C", "PacificVis": "C", "3DV": "C", "CAD": "C", "Graphics": "C", "ICIP": "C", "MMM": "C", "PCM": "C", "SMI": "C", "ICVRV": "C", "CVM": "C", "PRCV": "C", "AI": "A", "TPAMI": "A", "IJCV": "A", "JMLR": "A", "TAP": "B", "TSLP": "B", "AAMAS": "B", "CVIU": "B", "TAC": "B", "TASLP": "B", "TEC": "B", "TFS": "B", "TNNLS": "B", "IJAR": "B", "JAIR": "B", "JSLHR": "B", "TACL": "B", "TALLIP": "C", "AIM": "C", "DSS": "C", "EAAI": "C", "ESWA": "C", "TG": "C", "IET-CVI": "C", "IVC": "C", "IDA": "C", "IJCIA": "C", "IJNS": "C", "IJPRAI": "C", "IJUFKS": "C", "IJDAR": "C", "JETAI": "C", "KBS": "C", "NLE": "C", "NCA": "C", "NPL": "C", "PAA": "C", "PRL": "C", "WI": "C", "TIIS": "C", "AAAI": "A", "NeurIPS": "A", "ACL": "A", "CVPR": "A", "ICCV": "A", "ICML": "A", "IJCAI": "A", "COLT": "B", "EMNLP": "B", "ECAI": "B", "ECCV": "B", "ICRA": "B", "ICAPS": "B", "ICCBR": "B", "COLING": "B", "KR": "B", "UAI": "B", "PPSN": "B", "NAACL": "B", "AISTATS": "C", "ACCV": "C", "ACML": "C", "BMVC": "C", "NLPCC": "C", "CoNLL": "C", "GECCO": "C", "ICTAI": "C", "IROS": "C", "ALT": "C", "ICANN": "C", "FG": "C", "ICDAR": "C", "ILP": "C", "KSEM": "C", "ICONIP": "C", "ICPR": "C", "ICB": "C", "IJCNN": "C", "PRICAI": "C", "TOCHI": "A", "IJHCS": "A", "CSCW": "A", "HCI": "B", "IWC": "B", "IJHCI": "B", "UMUAI": "B", "TSMC": "B", "BIT": "C", "PUC": "C", "PMC": "C", "PACMHCI": "C", "CHI": "A", "UbiComp": "A", "UIST": "A", "GROUP": "B", "IUI": "B", "ITS": "B", "ECSCW": "B", "PERCOM": "B", "MobileHCI": "B", "ICWSM": "B", "DIS": "C", "ICMI": "C", "ASSETS": "C", "GI": "C", "UIC": "C", "INTERACT": "C", "IDC": "C", "CollaborateCom": "C", "CSCWD": "C", "CoopIS": "C", "MobiQuitous": "C", "AVI": "C", "JACM": "A", "Proc. IEEE": "A", "SCIS": "A", "Cognition": "B", "TASAE": "B", "TGARS": "B", "TITS": "B", "TMI": "B", "TR": "B", "TCBB": "B", "JCST": "B", "JAMIA": "B", "FCS": "B", "JBHI": "C", "TBD": "C", "JBI": "C", "TII": "C", "TCPS": "C", "TOCE": "C", "FITEE": "C", "TCSS": "C", "WWW": "A", "RTSS": "A", "WINE": "A", "CogSci": "B", "BIBM": "B", "EMSOFT": "B", "ISMB": "B", "RECOMB": "B", "AMIA": "C", "APBC": "C", "SMC": "C", "COSIT": "C", "ISBRA": "C", "SAGT": "C", "SIGSPATIAL": "C", "ICIC": "C" }
let replace1 = { "transactions": "trans\\." }
for (let key in Full2Rank) {
    let newValue = Full2Rank[key]
    let newKey = key
    for (let replaceKey in replace1) {
        newKey = newKey.replace(new RegExp(replaceKey, 'g'), replace1[replaceKey])
    }
    Full2Rank[newKey] = newValue
}
let replace2 = { "networks": "netw\\.", "systems": "syst\\.", "concurrency": "concu\?\\.", "computation": "comp\\.", "practice": "prac\\.", "experience": "exp\\.", "journal": "j\\.", "architecture": "archit\\.", "knowledge": "knowl\\." }
for (let key in Full2Rank) {
    let newValue = Full2Rank[key]
    let newKey = key
    for (let replaceKey in replace2) {
        newKey = newKey.replace(new RegExp(replaceKey, 'g'), replace2[replaceKey])
    }
    Full2Rank[newKey] = newValue
}
let del = [""]
for (let key of del) {
    delete Full2Rank[key]
}

function find_full(target, resource) {
    let count = 0

    // 使用全局搜索和忽略大小写的正则表达式
    // 用\s和\d来允许空格和数字，但排除英文字母
    // const regex = new RegExp(`(?<=^|[.,，\n])\\s*\\d*\\s*${target}`, 'g');
    // const regex = new RegExp(`(?<=^|[.,，\n])(?:\s|\d|acm|ieee|ieee\/acm|th|st|nd|rd|(?![^\s\dacmieethstndrd]))${target}`, 'g');
    // const regex = new RegExp(`(?<=^|[.,，\n])(?:(?:\s|\d|acm|ieee|\/acm|th|st|nd|rd)+)*${target}`, 'g');
    const regex = new RegExp(`(?<=^|[.,，"”\n])(\\s|\\d|acm|ieee|\\/acm|\\/ieee|th|st|nd|rd|the|in|proceedings|of|annual)*?${target}(?! and)`, 'g')

    // 搜索所有匹配项
    const matches = resource.match(regex)

    // 如果有匹配项，则统计它们的数量
    if (matches) {
        count = matches.length
    }

    return count
}

function find_abbr(target, resource) {
    let count = 0

    // 以特定字符开头
    const regex = new RegExp(`(?<=^|[.,，"”\n])(\\s|\\d|acm|Acm|ACM|ieee|IEEE|\\/acm|\\/ACM|\\/ieee|\\/IEEE|th|st|nd|rd|the|The|in|In|[pP]roceedings|of|[aA]nnual)*?${target}(?![a-zA-Z])(?! [a-zA-Z])`, 'g')

    // 搜索所有匹配项
    const matches = resource.match(regex)

    // 如果有匹配项，则统计它们的数量
    if (matches) {
        count = matches.length
    }

    return count
}

/**
 * 从彩云小译获取翻译结果的方法
 * @param params
 * @param params.text - 需要翻译的文本
 * @param params.destination - 目标语种
 * @param params.source - 源语种
 */
function getResultFromCY(params) {
    // 定义一个 map，用于将划词翻译的语种名称转为彩云小译的语种代码
    const languagesMap = {
        '中文(简体)': 'zh',
        英语: 'en',
        日语: 'ja',
    }

    // 先尝试翻译为首要目标语种
    const dest = params.destination[0]
    // 将划词翻译的语种名称转为彩云小译的语种代码
    const destCode = languagesMap[dest]
    const source = params.source ? languagesMap[params.source] : 'auto'

    if (!destCode || !source) {
        throw new TypeError(`彩云小译不支持${params.source}或者${dest}`)
    }

    return new Promise((resolve, reject) => {
        let result = []
        let text = params.text
        let num_A = 0
        let num_B = 0
        let num_C = 0
        for (let [tar, val] of Object.entries(Abbr2Rank)) {
            // 统计key在text中出现的次数
            let count1 = find_abbr(tar, text)
            // let count2 = findOccurrences("ieee " + tar, text)
            // let count3 = findOccurrences("acm " + tar, text)
            // let count4 = findOccurrences("ieee/acm " + tar, text)
            let count = count1 //+ count2 + count3 + count4
            if (val == 'A') {
                num_A += count
            } else if (val == 'B') {
                num_B += count
            } else if (val == 'C') {
                num_C += count
            }

        }
        // text转小写
        text = text.toLowerCase()
        // 遍历Full2Rank，统计text中key出现的次数
        // 遍历字典
        for (let [tar, val] of Object.entries(Full2Rank)) {
            // 统计key在text中出现的次数
            let count1 = find_full(tar, text)
            // let count2 = findOccurrences("ieee " + tar, text)
            // let count3 = findOccurrences("acm " + tar, text)
            // let count4 = findOccurrences("ieee/acm " + tar, text)
            let count = count1 //+ count2 + count3 + count4
            if (val == 'A') {
                num_A += count
            } else if (val == 'B') {
                num_B += count
            } else if (val == 'C') {
                num_C += count
            }

        }
        text = text.split('\n')
        let len = text.length
        for (let i = 0; i < 1; i++) {
            result.push("")
        }
        result[0] = "A:" + num_A + "　 B:" + num_B + "　 C:" + num_C
        resolve({
            text: params.text,
            from: '',
            to: dest,
            result: result,
        })
    })
}

// 创建一个 HTTP Server 用于处理客户端发送的请求
http
    .createServer((req, res) => {
        // 划词翻译会使用 POST 方法请求你填写的接口地址
        if (req.method === 'POST') {
            let body = ''
            req.on('data', (data) => {
                body += data
            })
            req.on('end', () => {
                const params = JSON.parse(body)
                // 我们的接口只支持彩云小译
                if (params.name === 'ccf') {
                    getResultFromCY(params).then((translateResult) => {
                        res
                            .writeHead(200, {
                                'Content-Type': 'application/json',
                            })
                            .end(JSON.stringify(translateResult))
                    })
                    return
                }
                // 不支持的翻译源一律返回 404
                res.writeHead(404).end()
            })
            return
        }
        res.writeHead(404).end()
    })
    // 监听 8088 端口
    .listen(8088)